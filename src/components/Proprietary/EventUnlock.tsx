import React, { useEffect, useState, FC } from 'react'
import { Link } from 'react-router-dom'
import { Text } from 'src/components/Edition/Text'
import { Image } from 'src/components/Edition/Image'
import { useDispatch, useSelector } from 'react-redux'
import { useAppSelector } from 'src/hooks/useRedux'
import { RootState } from 'src/store/store'
interface IProprietary {
  id?: string
  headerTitle?: string
  title?: string
  description?: string
  description2?: string
  span?: string
  Link?: string
}

type Props = {
  Data?: IProprietary
}

const Proprietary: FC<Props> = ({ Data }) => {
  const [isOnScreen, setIsOnScreen] = useState(true)

  useEffect(() => {
    // Hàm kiểm tra xem component có nằm trong màn hình không
    const isComponentOnScreen = () => {
      const element = document.getElementById('proprietary-component')
      if (element) {
        const rect = element.getBoundingClientRect()
        return rect.top >= -100 && rect.bottom <= window.innerHeight + -50
      }
      return false
    }

    // Hàm xử lý khi cuộn trang
    const handleScroll = () => {
      setIsOnScreen(isComponentOnScreen())
    }

    // Đăng ký sự kiện cuộn trang
    window.addEventListener('scroll', handleScroll)

    // Kiểm tra ngay từ đầu
    setIsOnScreen(isComponentOnScreen())

    // Hủy đăng ký sự kiện khi component bị unmount
    return () => {
      window.removeEventListener('scroll', handleScroll)
    }
  }, [])
  const [isScaled, setIsScaled] = useState(false)
  useEffect(() => {
    let timer: any
    if (isOnScreen) {
      setIsScaled(true)
      timer = setTimeout(() => {
        setIsScaled(false)
      }, 500)
    }
    return () => clearTimeout(timer)
  }, [isOnScreen])
  const { ProprietaryST } = useSelector((state: RootState) => state.safetrust)
  const dispatch = useDispatch()
  const data = useAppSelector((state) => state.data.data)
  return (
    <div id='proprietary-component' className={`flex-col items-stretch mb-[104px] flex `}>
      <div className='w-full max-w-[1272px] flex-col self-center items-stretch flex relative'>
        <div className='gap-x-[56px] flex-row w-full max-w-[1080px] mx-auto flex sm:flex-col'>
          <div className='w-1/2 sm:w-[80%] flex-col flex-[0_auto] justify-start self-auto items-start mt-9 mx-auto pl-0 flex relative'>
            <div>
              <Text
                id={ProprietaryST.headerTitle}
                tag='div'
                content={data[ProprietaryST.headerTitle] || ''}
                className='w-auto max-w-[1279px] text-left text-mainColor uppercase mt-[20px] text-[14px] font-bold leading-[25px] mb-[1em]'
              />
              {/* <div
                className='max-w-[30ch] text-mainColor text-left uppercase m-[0_0_24px] text-[11px] font-bold
               leading-[13px]'
              >
                {Data?.headerTitle}
              </div> */}
              <h2 className='max-w-full text-white tracking-[-.025em] mt-0 mx-0 text-[32px] font-normal leading-[106%] mb-[0.5em]'>
                <Text
                  id={ProprietaryST.title}
                  tag='div'
                  content={data[ProprietaryST.title] || ''}
                  className='font-bold'
                />
                {/* <strong className='font-bold'> {Data?.title}</strong> */}
              </h2>
              <div className='text-[#e9ebec] mt-[30px] text-sm'>
                <Text id='DesEnvent' tag='span' content={data[ProprietaryST.description] || ''} className='' />
                {/* {Data?.description} */}
                <br /> <br />
                <Text
                  id={ProprietaryST.span}
                  tag='span'
                  content={data[ProprietaryST.span] || ''}
                  className='text-mainColor font-bold'
                />
                <Text id='Des2Envent' tag='span' content={data[ProprietaryST.description2] || ''} className='' />
                {/* {Data?.description2} */}
                <br />
                <br />
                <Link
                  to={data[ProprietaryST.Link] || ''}
                  className='text-mainColor delay-[0.2s] underline touch-manipulation bg-transparent cursor-pointer outline-none hover:text-mainColor hover:none-underline leading-4'
                >
                  <strong className='font-bold'>Read more</strong>
                </Link>
              </div>
            </div>
          </div>
          <div className='w-1/2 sm:w-[80%] flex-col flex-[0_auto] justify-start self-auto items-start mt-9 mx-auto pl-0 flex relative'>
            <Image
              id={ProprietaryST.img}
              className='object-cover rounded-[22px] align-middle border-none max-w-[100%] inline-block border-0 h-[412px]'
              src={data[ProprietaryST.img]}
              alt='Getaround Connect®'
            />
            {/* <img
              src='https://assets-global.website-files.com/5c16e90c8f6920b098f834e5/639a1e9f44d6d5e62cda3fbb_iStock-1243633999%201.jpg'
              loading='lazy'
              sizes='(max-width: 479px) 100vw, 272.671875px'
              height='412'
              srcSet='https://assets-global.website-files.com/5c16e90c8f6920b098f834e5/639a1e9f44d6d5e62cda3fbb_iStock-1243633999%201-p-500.jpg 500w, https://assets-global.website-files.com/5c16e90c8f6920b098f834e5/639a1e9f44d6d5e62cda3fbb_iStock-1243633999%201.jpg 822w'
              alt=''
              className='object-cover rounded-[22px] align-middle border-none max-w-[100%] inline-block border-0'
            /> */}
            <div
              data-w-id='d68abdf6-cac5-7051-6406-ec9a6d19ef9a'
              data-is-ix2-target='1'
              className={`max-w-[60%] absolute top-[236px] md:top-[236px] right-[23%] md:right-[-3%] sm:right-[20%] transition-transform duration-1000 ease-in-out ${
                isScaled ? 'scale-95' : ''
              }`}
              data-animation-type='lottie'
              data-src='https://assets-global.website-files.com/5c16e90c8f6920b098f834e5/639a2526d968c1cec776d1c0_button%20unlock.json'
              data-loop='0'
              data-direction='1'
              data-autoplay='0'
              data-renderer='svg'
              data-default-duration='3.1'
              data-duration='0'
            >
              <svg
                xmlns='http://www.w3.org/2000/svg'
                viewBox='0 0 1080 400'
                width='1080'
                height='400'
                preserveAspectRatio='xMidYMid meet'
                style={{ width: '100%', height: '100%', transform: 'translate3d(0px, 0px, 0px)' }}
              >
                <defs>
                  <clipPath id='__lottie_element_2'>
                    <rect width='1080' height='400' x='0' y='0'></rect>
                  </clipPath>
                </defs>
                <g clip-path='url(#__lottie_element_2)'>
                  <g transform='matrix(1,0,0,1,541.613037109375,200)' opacity='1' style={{ display: 'block' }}>
                    <g opacity='1' transform='matrix(1,0,0,1,-1.61297607421875,4.0980000495910645)'>
                      <path
                        fill={isOnScreen ? '#44C5e5' : 'black'}
                        fill-opacity='1'
                        d=' M534,-116.89999389648438 C534,-116.89999389648438 534,116.89999389648438 534,116.89999389648438 C534,155.53298950195312 502.63299560546875,186.89999389648438 464,186.89999389648438 C464,186.89999389648438 -464,186.89999389648438 -464,186.89999389648438 C-502.63299560546875,186.89999389648438 -534,155.53298950195312 -534,116.89999389648438 C-534,116.89999389648438 -534,-116.89999389648438 -534,-116.89999389648438 C-534,-155.53298950195312 -502.63299560546875,-186.89999389648438 -464,-186.89999389648438 C-464,-186.89999389648438 464,-186.89999389648438 464,-186.89999389648438 C502.63299560546875,-186.89999389648438 534,-155.53298950195312 534,-116.89999389648438z'
                      ></path>
                      <path
                        stroke-linecap='butt'
                        stroke-linejoin='miter'
                        fill-opacity='0'
                        stroke-miterlimit='4'
                        stroke={isOnScreen ? '#44C5e5' : 'black'}
                        stroke-opacity='1'
                        stroke-width='0'
                        d=' M534,-116.89999389648438 C534,-116.89999389648438 534,116.89999389648438 534,116.89999389648438 C534,155.53298950195312 502.63299560546875,186.89999389648438 464,186.89999389648438 C464,186.89999389648438 -464,186.89999389648438 -464,186.89999389648438 C-502.63299560546875,186.89999389648438 -534,155.53298950195312 -534,116.89999389648438 C-534,116.89999389648438 -534,-116.89999389648438 -534,-116.89999389648438 C-534,-155.53298950195312 -502.63299560546875,-186.89999389648438 -464,-186.89999389648438 C-464,-186.89999389648438 464,-186.89999389648438 464,-186.89999389648438 C502.63299560546875,-186.89999389648438 534,-155.53298950195312 534,-116.89999389648438z'
                      ></path>
                    </g>
                  </g>
                  <g
                    transform='matrix(1.595039963722229,0,0,1.595039963722229,529.47900390625,264.8210144042969)'
                    opacity='1'
                    style={{ display: 'block' }}
                  >
                    <g opacity='1' transform='matrix(1,0,0,1,0,0)'>
                      <path
                        fill='rgb(255,255,255)'
                        fill-opacity='1'
                        d=' M115.7760009765625,-51.77399826049805 C115.7760009765625,-51.77399826049805 96.24099731445312,-51.77399826049805 96.24099731445312,-51.77399826049805 C96.24099731445312,-51.77399826049805 78.41400146484375,-35.013999938964844 78.41400146484375,-35.013999938964844 C78.41400146484375,-35.013999938964844 78.41400146484375,-75.79299926757812 78.41400146484375,-75.79299926757812 C78.41400146484375,-75.79299926757812 64.53600311279297,-75.79299926757812 64.53600311279297,-75.79299926757812 C64.53600311279297,-75.79299926757812 64.53600311279297,0 64.53600311279297,0 C64.53600311279297,0 78.41400146484375,0 78.41400146484375,0 C78.41400146484375,0 78.41400146484375,-22.417999267578125 78.41400146484375,-22.417999267578125 C78.41400146484375,-22.417999267578125 100.2979965209961,0 100.2979965209961,0 C100.2979965209961,0 118.97899627685547,0 118.97899627685547,0 C118.97899627685547,0 90.47699737548828,-28.50200080871582 90.47699737548828,-28.50200080871582 C90.47699737548828,-28.50200080871582 115.7760009765625,-51.77399826049805 115.7760009765625,-51.77399826049805z'
                      ></path>
                    </g>
                    <g opacity='1' transform='matrix(1,0,0,1,0,0)'>
                      <path
                        fill='rgb(255,255,255)'
                        fill-opacity='1'
                        d=' M50.01499938964844,-18.575000762939453 C47.77299880981445,-15.159000396728516 43.290000915527344,-11.743000030517578 37.63199996948242,-11.743000030517578 C29.198999404907227,-11.743000030517578 23.32699966430664,-17.72100067138672 23.32699966430664,-25.833999633789062 C23.32699966430664,-33.73400115966797 29.305999755859375,-40.03099822998047 37.3120002746582,-40.03099822998047 C42.32899856567383,-40.03099822998047 46.492000579833984,-37.470001220703125 49.268001556396484,-33.84000015258789 C49.268001556396484,-33.84000015258789 59.0890007019043,-42.48699951171875 59.0890007019043,-42.48699951171875 C54.28499984741211,-48.67900085449219 46.27899932861328,-52.840999603271484 37.3120002746582,-52.840999603271484 C21.51300048828125,-52.840999603271484 9.449999809265137,-40.88600158691406 9.449999809265137,-25.833999633789062 C9.449999809265137,-10.888999938964844 21.191999435424805,1.0679999589920044 37.20500183105469,1.0679999589920044 C46.91899871826172,1.0679999589920044 54.60499954223633,-2.4549999237060547 60.689998626708984,-10.567999839782715 C60.689998626708984,-10.567999839782715 50.01499938964844,-18.575000762939453 50.01499938964844,-18.575000762939453z'
                      ></path>
                    </g>
                    <g opacity='1' transform='matrix(1,0,0,1,0,0)'>
                      <path
                        fill='rgb(255,255,255)'
                        fill-opacity='1'
                        d=' M-33.8380012512207,-25.833999633789062 C-33.8380012512207,-33.62699890136719 -28.28700065612793,-40.03099822998047 -20.173999786376953,-40.03099822998047 C-12.060999870300293,-40.03099822998047 -6.510000228881836,-33.62699890136719 -6.510000228881836,-25.833999633789062 C-6.510000228881836,-18.041000366210938 -12.060999870300293,-11.743000030517578 -20.173999786376953,-11.743000030517578 C-28.28700065612793,-11.743000030517578 -33.8380012512207,-18.041000366210938 -33.8380012512207,-25.833999633789062z M-47.715999603271484,-25.833999633789062 C-47.715999603271484,-10.888999938964844 -35.86600112915039,1.0679999589920044 -20.173999786376953,1.0679999589920044 C-4.48199987411499,1.0679999589920044 7.367000102996826,-10.888999938964844 7.367000102996826,-25.833999633789062 C7.367000102996826,-40.77899932861328 -4.48199987411499,-52.840999603271484 -20.173999786376953,-52.840999603271484 C-35.86600112915039,-52.840999603271484 -47.715999603271484,-40.77899932861328 -47.715999603271484,-25.833999633789062z'
                      ></path>
                    </g>
                    <g opacity='1' transform='matrix(1,0,0,1,0,0)'>
                      <path
                        fill='rgb(255,255,255)'
                        fill-opacity='1'
                        d=' M-53.6619987487793,-75.79299926757812 C-53.6619987487793,-75.79299926757812 -67.54000091552734,-75.79299926757812 -67.54000091552734,-75.79299926757812 C-67.54000091552734,-75.79299926757812 -67.54000091552734,0 -67.54000091552734,0 C-67.54000091552734,0 -53.6619987487793,0 -53.6619987487793,0 C-53.6619987487793,0 -53.6619987487793,-75.79299926757812 -53.6619987487793,-75.79299926757812z'
                      ></path>
                    </g>
                    <g opacity='1' transform='matrix(1,0,0,1,0,0)'>
                      <path
                        fill='rgb(255,255,255)'
                        fill-opacity='1'
                        d=' M-113.56300354003906,0 C-113.56300354003906,0 -113.56300354003906,-33.625999450683594 -113.56300354003906,-33.625999450683594 C-111.64099884033203,-36.29499816894531 -106.83699798583984,-40.03099822998047 -100.96600341796875,-40.03099822998047 C-97.76300048828125,-40.03099822998047 -94.98799896240234,-38.9640007019043 -93.1729965209961,-37.14899826049805 C-91.2509994506836,-35.22700119018555 -90.0780029296875,-32.558998107910156 -90.0780029296875,-27.434999465942383 C-90.0780029296875,-27.434999465942383 -90.0780029296875,0 -90.0780029296875,0 C-90.0780029296875,0 -76.19999694824219,0 -76.19999694824219,0 C-76.19999694824219,0 -76.19999694824219,-26.367000579833984 -76.19999694824219,-26.367000579833984 C-76.19999694824219,-35.22700119018555 -78.12200164794922,-40.45800018310547 -81.53800201416016,-44.51499938964844 C-85.80799865722656,-49.638999938964844 -92.31999969482422,-52.840999603271484 -99.47200012207031,-52.840999603271484 C-105.23699951171875,-52.840999603271484 -110.14700317382812,-50.81399917602539 -114.09700012207031,-47.611000061035156 C-114.09700012207031,-47.611000061035156 -114.09700012207031,-51.77399826049805 -114.09700012207031,-51.77399826049805 C-114.09700012207031,-51.77399826049805 -127.44000244140625,-51.77399826049805 -127.44000244140625,-51.77399826049805 C-127.44000244140625,-51.77399826049805 -127.44000244140625,0 -127.44000244140625,0 C-127.44000244140625,0 -113.56300354003906,0 -113.56300354003906,0z'
                      ></path>
                    </g>
                    <g opacity='1' transform='matrix(1,0,0,1,0,0)'>
                      <path
                        fill='rgb(255,255,255)'
                        fill-opacity='1'
                        d=' M-168.60800170898438,1.0679999589920044 C-160.1750030517578,1.0679999589920044 -151.95599365234375,-1.4950000047683716 -146.1909942626953,-6.61899995803833 C-139.99899291992188,-12.170000076293945 -136.58299255371094,-20.069000244140625 -136.58299255371094,-31.490999221801758 C-136.58299255371094,-31.490999221801758 -136.58299255371094,-74.7249984741211 -136.58299255371094,-74.7249984741211 C-136.58299255371094,-74.7249984741211 -150.99400329589844,-74.7249984741211 -150.99400329589844,-74.7249984741211 C-150.99400329589844,-74.7249984741211 -150.99400329589844,-30.423999786376953 -150.99400329589844,-30.423999786376953 C-150.99400329589844,-23.591999053955078 -152.8090057373047,-19.42799949645996 -155.90499877929688,-16.54599952697754 C-159.10800170898438,-13.449999809265137 -163.59100341796875,-11.743000030517578 -168.60800170898438,-11.743000030517578 C-173.625,-11.743000030517578 -178.10899353027344,-13.449999809265137 -181.31199645996094,-16.54599952697754 C-184.4080047607422,-19.42799949645996 -186.2220001220703,-23.591999053955078 -186.2220001220703,-30.423999786376953 C-186.2220001220703,-30.423999786376953 -186.2220001220703,-74.7249984741211 -186.2220001220703,-74.7249984741211 C-186.2220001220703,-74.7249984741211 -200.63299560546875,-74.7249984741211 -200.63299560546875,-74.7249984741211 C-200.63299560546875,-74.7249984741211 -200.63299560546875,-31.490999221801758 -200.63299560546875,-31.490999221801758 C-200.63299560546875,-20.069000244140625 -197.21800231933594,-12.170000076293945 -191.0260009765625,-6.61899995803833 C-185.26100158691406,-1.4950000047683716 -177.04100036621094,1.0679999589920044 -168.60800170898438,1.0679999589920044z'
                      ></path>
                    </g>
                  </g>
                  <g
                    transform='matrix(9.829999923706055,0,0,9.829999923706055,774.9349975585938,126.2750015258789)'
                    opacity='1'
                    style={{ display: 'block' }}
                  >
                    <g opacity='1' transform='matrix(1,0,0,1,5.434999942779541,10.265999794006348)'>
                      <path
                        fill='rgb(255,255,255)'
                        fill-opacity='1'
                        d=' M-4.830999851226807,-4.2270002365112305 C-4.830999851226807,-4.2270002365112305 4.830999851226807,-4.2270002365112305 4.830999851226807,-4.2270002365112305 C5.163000106811523,-4.2270002365112305 5.434999942779541,-3.9549999237060547 5.434999942779541,-3.622999906539917 C5.434999942779541,-3.622999906539917 5.434999942779541,3.622999906539917 5.434999942779541,3.622999906539917 C5.434999942779541,3.9549999237060547 5.163000106811523,4.2270002365112305 4.830999851226807,4.2270002365112305 C4.830999851226807,4.2270002365112305 -4.830999851226807,4.2270002365112305 -4.830999851226807,4.2270002365112305 C-5.163000106811523,4.2270002365112305 -5.434999942779541,3.9549999237060547 -5.434999942779541,3.622999906539917 C-5.434999942779541,3.622999906539917 -5.434999942779541,-3.622999906539917 -5.434999942779541,-3.622999906539917 C-5.434999942779541,-3.9549999237060547 -5.163000106811523,-4.2270002365112305 -4.830999851226807,-4.2270002365112305z'
                      ></path>
                    </g>
                  </g>
                  <g
                    transform='matrix(0.16170351207256317,0,0,0.16170351207256317,829,197.2476043701172)'
                    opacity='1'
                    style={{ display: 'block' }}
                  >
                    <g opacity='1' transform='matrix(1.0369199514389038,0,0,1,-6,0)'>
                      <path
                        stroke-linecap='butt'
                        stroke-linejoin='miter'
                        fill-opacity='0'
                        stroke-miterlimit='4'
                        stroke='rgb(255,255,255)'
                        stroke-opacity='1'
                        stroke-width='135'
                        d=' M-141.2790069580078,12 C-141.2790069580078,12 -141.13999938964844,-191 -141.2790069580078,-239 C-141.4770050048828,-307 -193.4320068359375,-383 -281.6289978027344,-383 C-355.0710144042969,-383 -423.3840026855469,-328 -425.61199951171875,-246 C-426.2640075683594,-222.00900268554688 -426.0929870605469,-190 -426.0929870605469,-190'
                      ></path>
                    </g>
                  </g>
                </g>
              </svg>
            </div>
          </div>
        </div>
      </div>
    </div>
  )
}

export default Proprietary
